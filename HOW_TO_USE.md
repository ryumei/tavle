Tavle: How to run
=======================================

実行するサーバ役ホストの IP アドレスを調べておいてください。

# 1. バイナリパッケージの取得

[release](https://github.com/ryumei/tavle/releases) から、
ご利用の環境に合ったバイナリパッケージをダウンロードしてください。

# 2. 初期設定

``tavle.tml.sample`` を ``tavle.tml`` という名前にコピーし、
[Server] の Endpoint と Port を適切に修正してください (設定項目は大文字小文字を区別します)。

# 3. サーバの起動

    $ ./tavle -c tavle.tml

Windows の場合は、 実行ファイルは tavle.exe という名称です。
tavle.tml が同じディレクトリにある場合には、``-c`` オプションは省略可能です。

# 4. クライアントからの接続

起動の後、ブラウザで http://localhost:8000/ にアクセスしてみてください。
ポート番号は、設定ファイルにて指定したものに読み替えてください。

ログイン画面が開きますので、入力してください。

* ユーザ名: 必須です。
* メールアドレス: メールアドレスは任意です (gravater と連携します)。
* ルーム名: 省略すると、デフォルトのホワイエ (foyer) に入ります。


### [TroubleShooting] 接続できない時

サーバおよび、クライアントのファイアウォールを確認してください。

  * セキュリティソフトウェア
  * OS
  * ネットワーク経路

### [KnownIssue] ブラウザの再読み込みで、チャット履歴が消える。

ブラウザ再読み込みすると、画面がクリアされます。
(送信済みのメッセージは、相手側では見えたままです)


## SSL/TLS 証明書による通信の暗号化

設定ファイルの ``[Server]`` の ``EnableTLS`` を ``true`` にし、
``CertFile`` と ``KeyFile`` にサーバ証明書、鍵ファイルのパスを指定してください。

OpenSSL で作るサンプルを、ソース版の ``contrib/create_certs.sh`` に置いてあります。

